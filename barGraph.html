<!DOCTYPE html>
<html>
  <head>
  </head>
    <body>
    <script src="http://d3js.org/d3.v3.min.js"></script>

     <div id="append"></div>

     <div id="exit">
	<div class="right"></div>
     </div>
     <u><h2>D3 js most basic in STEPS</h2></u>
     <h4>All 4 data is bunched up in one place because x is all same</h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 <span style="font-size:14px; color: red">x : 0,  // all data is bunched up in one spot because they all start at x coordinate 0</span>
                 y : 0,
                 "width": 10,
                 "height": 100

                })

</span></pre>
    <script>
	var w = 500;
	var h = 100;
	var padding = 2;
	var dataset = [ 5,10,15,20,25 ];

	var svg = d3.select("body")
		   .append("svg")
		    .attr({
			  "width" : w,
			   "height" : h
		    });

	svg.selectAll("rect")
	   .data(dataset)
	   .enter()
	   .append("rect")
	       .attr({
		 x : 0,
		 y : 0,
		 "width": 10,
		 "height": 100

		})
    </script>
<br /><hr />

     <h4>Giving X value according to position so that x can show properly</h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h 
                    }); 

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 <span style="font-size:14px; color:red" >x : { function(d,i)  { return i * 21  };  },  // This will put starting x point by 21 times index number</span> 
                 y : 0,
                 "width": 10, 
                 "height": 100 

                })  

</span></pre>

    <script>
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 x : function(d,i) { return i * 20 },
                 y : 0,
                 "width": 10,
                 "height": 100

                })
    </script>

<br /><hr />

     <h4>Now let's fit the bars according to the width</h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h 
                    }); 

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : { function(d,i)  { return i * 21  };  },
                 <span style="font-size:14px; color:red" >x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal</span>
                 y : 0,
                 //"width": w / dataset.length - padding, 
                 <span style="font-size:14px; color:red">width": w / dataset.length - padding, // make each bar width equally according to number of items minus padding</span>

                 "height": 100 

                })  

</span></pre>

    <script>
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 y : 0,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 "height": 100

                })
    </script>

<br /><hr />

     <h4>Let's work on the graph horizonally</h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h 
                    }); 

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 x : function(d,i) { return i * (w / dataset.length) },
                 y : 0,
                 width": w / dataset.length - padding, 
                 <span style="font-size:14px; color:red">height": function(d) { return d }  // make height according to data now </span> 

                })  

</span></pre>

    <script>
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 y : 0,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 "height": function(d) { return d }

                })
    </script>

<br /><hr />

     <h4>graph is upside down.. fix it!! </h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h 
                    }); 

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 x : function(d,i) { return i * (w / dataset.length) },
                 //y : 0,
                 <span style="font-size:14px; color:red">y : function(d) { return h - d},  //let's flip it </span>
                 width": w / dataset.length - padding, 
                 height": function(d) { return d }  // make height according to data now 

                })

</span></pre>

    <script>
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 y : function(d) { return h - d } ,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 "height": function(d) { return d },

                })
    </script>

<br /><hr />


</span></pre>

     <h4>lets color this graph</h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 x : function(d,i) { return i * (w / dataset.length) },
                 y : function(d) { return h - d},  
                 width": w / dataset.length - padding,
                 height": function(d) { return d }, 
                 <span style="font-size:14px; color:red">"fill" : "blue"

                })

</span></pre>


    <script>
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];
    
        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 y : function(d) { return h - d } ,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 "height": function(d) { return d },
                 "fill" : "blue"

                })
    </script>

<br /><hr />

     <h4>messing around w/ colors</h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
			 x : function(d,i) { return i * (w / dataset.length) },
			 y : function(d) { return h - d},
			 width": w / dataset.length - padding,
			 height": function(d) { return d },
			 //"fill" : "blue"
			<span style="font-size:14px; color:red">"fill" : function(d) {
                         return "rgb(" + (d*10) + ", 0, 0));   // adding rgb to each data</span>
                })

</span></pre>


    <script>
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];
    
        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 y : function(d) { return h - d } ,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 "height": function(d) { return d },
                 "fill" : function(d) {
   				return "rgb(" + (d*10) + ", 0, 0)" }
            });
    </script>  

<br /><hr />

     <h4>putting function on colors</h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        <span style="font-size:14px; color:red">function colorPicker(v) {
                               if ( v <= 20 ) { return "#666666" };
                               else if ( v > 20 ) { return "#FF0033" }; // function to choose color </span>
        }
        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
			 x : function(d,i) { return i * (w / dataset.length) },
			 y : function(d) { return h - d},
			 width": w / dataset.length - padding,
			 height": function(d) { return d },
			//"fill" : function(d) {
			//         return "rgb(" + (d*10) + ", 0, 0));  
			<span style="font-size:14px; color:red">fill: function(d) { return colorPicker(d) }  // using this new function</span>  
                })

</span></pre>


    <script>
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];
    
        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

	function colorPicker(v) {
	   if ( v <= 20 ) { return "#666666"; }
           else if ( v > 20 ) { return "#FF0033"; }
        }

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 y : function(d) { return h - d } ,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 "height": function(d) { return d },
                 "fill" : function(d) {
                                return colorPicker(d) }
            });
    </script>

<br /><hr />

     <h4>adding label </h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        function colorPicker(v) {
                   if ( v <= 20 ) { return "#666666" };
                   else if ( v > 20 ) { return "#FF0033" };
        }
        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 x : function(d,i) { return i * (w / dataset.length) },
                 y : function(d) { return h - d},
                 width": w / dataset.length - padding,
                 height": function(d) { return d },
                 fill: function(d) { return colorPicker(d) }
           })

            <span style="font-size:14px; color:red">svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) { return d; })
                .attr({
                    "text-anchor" : "middle",
                    x: function(d,i) { return i * (w / dataset.length); },
                    y: function(d) { return h - (d*4); }
                 });  // adding the text , but NOT aligned correctly</span>

</span></pre>


    <script>
        var w = 500;
        var h = 200;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];
    
        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        function colorPicker(v) {
           if ( v <= 20 ) { return "#666666"; }
           else if ( v > 20 ) { return "#FF0033"; }
        }

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 y : function(d) { return h - d } ,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 "height": function(d) { return d },
                 "fill" : function(d) {
                                return colorPicker(d) }
            });
	    svg.selectAll("text")
		.data(dataset)
		.enter()
		.append("text")
		.text(function (d) { return d; })
		.attr({
		    "text-anchor" : "middle",
		    x: function(d,i) { return i * (w / dataset.length); },
		    y: function(d) { return h - (d*4); }
                 });
    </script>


<br /><hr />

     <h4>adjusting label </h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        function colorPicker(v) {
                   if ( v <= 20 ) { return "#666666" };
                   else if ( v > 20 ) { return "#FF0033" };
        }
        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 x : function(d,i) { return i * (w / dataset.length) },
                 y : function(d) { return h - d},
                 width": w / dataset.length - padding,
                 height": function(d) { return d },
                 fill: function(d) { return colorPicker(d) }
           })

        svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) { return d; })
                .attr({
                    "text-anchor" : "middle",
                    //x: function(d,i) { return i * (w / dataset.length); },
                    <span style="font-size:14px; color:red">x: function(d,i) { return i * (w / dataset.length) +  ( w / dataset.length - padding) / 2; }, // adjusting the position 
                    y: function(d) { return h - (d*4); }
                 });  // adding the text , but NOT aligned correctly</span>

</span></pre>


    <script>
        var w = 500;
        var h = 200;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];
    
        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        function colorPicker(v) {
           if ( v <= 20 ) { return "#666666"; }
           else if ( v > 20 ) { return "#FF0033"; }
        }

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 y : function(d) { return h - d } ,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 "height": function(d) { return d },
                 "fill" : function(d) {
                                return colorPicker(d) }
            });
            svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) { return d; })
                .attr({
                    "text-anchor" : "middle",
                    x: function(d,i) { return i * (w / dataset.length) +  ( w / dataset.length - padding) / 2; },
                    y: function(d) { return h - (d*4); }
                 });
    </script>


<br /><hr />

     <h4>But Bar is so short.. can we just adjust this for now?? by multiplying???</h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        function colorPicker(v) {
                   if ( v <= 20 ) { return "#666666" };
                   else if ( v > 20 ) { return "#FF0033" };
        }
        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 x : function(d,i) { return i * (w / dataset.length) },
                 <span style="font-size:14px; color:red">y : function(d) { return h - d*4},</span>
                 width": w / dataset.length - padding,
                  <span style="font-size:14px; color:red">height": function(d) { return d*4 },</span>
                 fill: function(d) { return colorPicker(d) }
           })

        svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) { return d; })
                .attr({
                    "text-anchor" : "middle",
                    x: function(d,i) { return i * (w / dataset.length) +  ( w / dataset.length - padding) / 2; }, 
                    y: function(d) { return h - (d*4); }
                 });  // adding the text , but NOT aligned correctly

</span></pre>


    <script>
        var w = 500;
        var h = 200;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];
    
        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        function colorPicker(v) {
           if ( v <= 20 ) { return "#666666"; }
           else if ( v > 20 ) { return "#FF0033"; }
        }

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 //y : function(d) { return h - d } ,
                 y : function(d) { return h - d*4 } ,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 //"height": function(d) { return d },
                 "height": function(d) { return d*4 },
                 "fill" : function(d) {
                                return colorPicker(d) }
            });
            svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) { return d; })
                .attr({
                    "text-anchor" : "middle",
                    x: function(d,i) { return i * (w / dataset.length) +  ( w / dataset.length - padding) / 2; },
                    y: function(d) { return h - (d*4); }
                 });
    </script>

<br /><hr />

     <h4>can we put label inside of the bar?? and change color and put new font?</h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h 
                    }); 

        function colorPicker(v) {
                   if ( v <= 20 ) { return "#666666" };
                   else if ( v > 20 ) { return "#FF0033" };
        }   
        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 x : function(d,i) { return i * (w / dataset.length) },
                 y : function(d) { return h - d*4},
                 width": w / dataset.length - padding,
                  height": function(d) { return d*4 },
                 fill: function(d) { return colorPicker(d) }
           })  

        svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) { return d; })
                .attr({
                    "text-anchor" : "middle",
                    x: function(d,i) { return i * (w / dataset.length) +  ( w / dataset.length - padding) / 2; },  
                    <span style="font-size:14px; color:red">y: function(d) { return h - (d*4)<b>+ 14</b>; },
                    "font-family" : "sans-serif",
                    "font-size": 12,
                    "fill": "#ffffff"  // added 14 and then all this style</span>
                 });
</span></pre>


    <script>
        var w = 500;
        var h = 200;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];
    
        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

        function colorPicker(v) {
           if ( v <= 20 ) { return "#666666"; }
           else if ( v > 20 ) { return "#FF0033"; }
        }

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 //y : function(d) { return h - d } ,
                 y : function(d) { return h - d*4 } ,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 //"height": function(d) { return d },
                 "height": function(d) { return d*4 },
                 "fill" : function(d) {
                                return colorPicker(d) }
            });
            svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) { return d; })
                .attr({
                    "text-anchor" : "middle",
                    x: function(d,i) { return i * (w / dataset.length) +  ( w / dataset.length - padding) / 2; },
                    //y: function(d) { return h - (d*4); }
                    y: function(d) { return h - (d*4)+14; },
                    "font-family" : "sans-serif",
 		    "font-size": 12,
		    "fill": "#ffffff"
                 });
    </script>

<br /><hr />

     <h4>can we now fix y to be scaleable??? </h4>
<pre><span class="inner-pre" style="font-size: 12px">
        var w = 500;
        var h = 100;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];

        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h 
                    }); 
       <span style="font-size:14px; color:red">
	var maxScore = d3.max(dataset, function(d) { return d } );
        var yScale = d3.scale.linear()
	      //.domain(d3.extent(dataset))
	      .domain([0,maxScore])
              .range([10,100]);
        </span>

        function colorPicker(v) {
                   if ( v <= 20 ) { return "#666666" };
                   else if ( v > 20 ) { return "#FF0033" };
        }   
        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 x : function(d,i) { return i * (w / dataset.length) },
                 //y : function(d) { return h - d*4},
                 <span style="font-size:14px; color:red">y : function(d) { return h - yScale(d) } ,</span>
                 "width": w / dataset.length - padding,
                 //"height": function(d) { return d*4 },
                 <span style="font-size:14px; color:red">"height": function(d) { return yScale(d) },</span>
                 fill: function(d) { return colorPicker(d) }
           })  

        svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) { return d; })
                .attr({
                    "text-anchor" : "middle",
                    x: function(d,i) { return i * (w / dataset.length) +  ( w / dataset.length - padding) / 2; },  
                    //y: function(d) { return h - (d*4)+ 14; },
                    <span style="font-size:14px; color:red">y: function(d) { return h - yScale(d) + 14 },</span>
                    "font-family" : "sans-serif",
                    "font-size": 12, 
                    "fill": "#ffffff"  // added 14 and then all this style
                 }); 
</span></pre>


    <script>
        var w = 500;
        var h = 200;
        var padding = 2;
        var dataset = [ 5,10,15,20,25 ];
    
        var svg = d3.select("body")
                   .append("svg")
                    .attr({
                          "width" : w,
                           "height" : h
                    });

	var maxScore = d3.max(dataset, function(d) { return d } );
        console.log("maxscore is " + maxScore);
        var yScale = d3.scale.linear()
	      //.domain(d3.extent(dataset))
	      .domain([0,maxScore])
              .range([10,100]);

        function colorPicker(v) {
           if ( v <= 20 ) { return "#666666"; }
           else if ( v > 20 ) { return "#FF0033"; }
        }

        svg.selectAll("rect")
           .data(dataset)
           .enter()
           .append("rect")
               .attr({
                 //x : function(d,i) { return i * 20 } 
                 x : function(d,i) { return i * (w / dataset.length) }, // position them equally horizontal
                 //y : function(d) { return h - d } ,
                 //y : function(d) { return h - d*4 } ,
                 y : function(d) { return h - yScale(d) } ,
                 //"width": 20,
                 "width": w / dataset.length - padding, // and then you have to also do this one
                 //"height": 100
                 //"height": function(d) { return d },
                 //"height": function(d) { return d*4 },
                 "height": function(d) { return yScale(d) },
                 "fill" : function(d) {
                                return colorPicker(d) }
            });
            svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) { return d; })
                .attr({
                    "text-anchor" : "middle",
                    x: function(d,i) { return i * (w / dataset.length) +  ( w / dataset.length - padding) / 2; },
                    //y: function(d) { return h - (d*4); }
                    //y: function(d) { return h - (d*4)+14; },
                    y: function(d) { return h - yScale(d) + 14 },
                    "font-family" : "sans-serif",
                    "font-size": 12,
                    "fill": "#ffffff"
                 });
    </script>



<br /><hr />

<br /><hr />




    <div class="incompleteBar">
        <div class="item" style="width: 39px; height: 50px; margin: 15px; float: left; background-color: rgb(37,176,176);"></div>
        <div class="item" style="width: 39px; height: 100px; margin: 15px; float: left; background-color: rgb(37,176,176);"></div>
        <div class="item" style="width: 39px; height: 150px; margin: 15px; float: left; background-color: rgb(37,176,176);"></div>
        <div class="item" style="width: 39px; height: 200px; margin: 15px; float: left; background-color: rgb(37,176,176);"></div>
    </div>
  </body>
</html>
